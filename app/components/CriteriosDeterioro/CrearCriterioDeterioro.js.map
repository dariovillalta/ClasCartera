{"version":3,"sources":["components/CriteriosDeterioro/CrearCriterioDeterioro.js"],"names":["subcategorias","categoria","CrearCriterioDeterioro","props","state","categoriasClasificacion","tiposDeCredito","iniciarCriterioDeterioro","bind","guardarCriterioDeterioro","traerAggararCategoriasClasificacion","traerAggararTiposCreditos","getNombreCategoria","mask","$","idCategoria","val","ID","transaction","sql","Transaction","pool","begin","err","rolledBack","on","aborted","request","Request","query","result","console","log","rollback","commit","recordset","criterioDeterioroMismaCategoria","categoriaClasificacion","nombreClasPadre","tipoCredito","toString","tipoGarantia","inicioMora","finMora","porcentajeEstimacionDeterioro","isNaN","undefined","length","alert","setState","showConfigurationComponent","returnSelCrit","width","map","i","tipoDeCredito","nombre","color","fontSize","fontWeight","React","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport sql from 'mssql';\nimport Inputmask from \"inputmask\";\n\nvar subcategorias = [{categoria: \"A\"},{categoria: \"B\"},{categoria: \"C\"},{categoria: \"D\"},{categoria: \"E\"},{categoria: \"F\"},\n{categoria: \"G\"},{categoria: \"H\"},{categoria: \"I\"},{categoria: \"J\"},{categoria: \"K\"},{categoria: \"L\"},{categoria: \"M\"},\n{categoria: \"N\"},{categoria: \"O\"},{categoria: \"P\"},{categoria: \"Q\"},{categoria: \"R\"},{categoria: \"S\"},{categoria: \"T\"},\n{categoria: \"U\"},{categoria: \"V\"},{categoria: \"W\"},{categoria: \"X\"},{categoria: \"Y\"},{categoria: \"Z\"}];\n\nexport default class CrearCriterioDeterioro extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            categoriasClasificacion: [],\n            tiposDeCredito: []\n        }\n        this.iniciarCriterioDeterioro = this.iniciarCriterioDeterioro.bind(this);\n        this.guardarCriterioDeterioro = this.guardarCriterioDeterioro.bind(this);\n        this.traerAggararCategoriasClasificacion = this.traerAggararCategoriasClasificacion.bind(this);\n        this.traerAggararTiposCreditos = this.traerAggararTiposCreditos.bind(this);\n        this.getNombreCategoria = this.getNombreCategoria.bind(this);\n    }\n\n    componentDidMount() {\n        this.traerAggararCategoriasClasificacion();\n        this.traerAggararTiposCreditos();\n        //$(\"#porcentajeEstimacionDeterioro\").inputmask({\"mask\": \"999 %\"});\n        Inputmask({\"mask\": \"9[9][9][.99] %\"}).mask($(\"#porcentajeEstimacionDeterioro\"));\n        Inputmask({\"mask\": \"9[9][9][9]\"}).mask($(\"#inicioMora\"));\n        Inputmask({\"mask\": \"9[9][9][9]\"}).mask($(\"#finMora\"));\n    }\n\n    iniciarCriterioDeterioro() {\n        //trayendo los criterios de deterioro relacionados al tipo de credito para auto asignar subcategoria\n        var idCategoria = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].ID;\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from CriterioDeterioro where categoriaClasPadre = \"+idCategoria, (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.guardarCriterioDeterioro(result.recordset);\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    guardarCriterioDeterioro(criterioDeterioroMismaCategoria) {\n        let categoriaClasificacion = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].ID;\n        let nombreClasPadre = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].categoria+\" \"+this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].tipoCredito;\n        let categoria = this.state.categoriasClasificacion[$(\"#categoriaClasificacionID\").val()].categoria+this.getNombreCategoria(criterioDeterioroMismaCategoria);      //es categoriaClasificacion la hijesima (n) vez del arreglo subcategorias ^^^inicio del archivo\n        let tipoCredito = $(\"#tipoCreditoID\").val().toString();\n        let tipoGarantia = $(\"#nombreTipoGarantia\").val().toString();\n        let inicioMora = $(\"#inicioMora\").val();\n        let finMora = $(\"#finMora\").val();\n        let porcentajeEstimacionDeterioro = $(\"#porcentajeEstimacionDeterioro\").val();\n        if(!isNaN(categoriaClasificacion)) {\n            if(categoria != undefined && categoria.length > 0) {\n                if(!isNaN(tipoCredito)) {\n                    if(!isNaN(inicioMora)) {\n                        if(!isNaN(finMora)) {\n                            const transaction = new sql.Transaction( this.props.pool );\n                            transaction.begin(err => {\n                                var rolledBack = false;\n                                transaction.on('rollback', aborted => {\n                                    rolledBack = true;\n                                });\n                                const request = new sql.Request(transaction);\n                                request.query(\"insert into CriterioDeterioro (categoriaClasPadre, nombreClasPadre, categoria, tipoDeCredito, tipoGarantia, inicioMora, finMora, estimacionDeterioro) values (\"+categoriaClasificacion+\",'\"+nombreClasPadre+\"','\"+categoria+\"',\"+tipoCredito+\",'\"+tipoGarantia+\"',\"+inicioMora+\",\"+finMora+\",\"+porcentajeEstimacionDeterioro+\")\", (err, result) => {\n                                    if (err) {\n                                        if (!rolledBack) {\n                                            console.log(err);\n                                            transaction.rollback(err => {\n                                            });\n                                        }\n                                    } else {\n                                        transaction.commit(err => {\n                                            alert(\"Exito\");\n                                        });\n                                    }\n                                });\n                            }); // fin transaction\n                        } else {\n                            alert(\"Error finMora\");\n                        }\n                    } else {\n                        alert(\"Error inicioMora\");\n                    }\n                } else {\n                    alert(\"Error tipoCredito\");\n                }\n            } else {\n                alert(\"Error categoria\");\n            }\n        } else {\n            alert(\"Error categoriaClasificacion\");\n        }\n    }\n\n    getNombreCategoria(criterioDeterioroMismaCategoria) {\n        if(criterioDeterioroMismaCategoria.length <= 26) {\n            return subcategorias[criterioDeterioroMismaCategoria.length].categoria;\n        } else {\n            return subcategorias[criterioDeterioroMismaCategoria.length%26].categoria;\n        }\n    }\n\n\n    traerAggararCategoriasClasificacion() {\n        //trayendo las categorias de clasificacion de creditos\n        var idCategoria = $(\"#categoriaClasificacionID\").val();\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from CategoriaClasificacion\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            categoriasClasificacion: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n\n    traerAggararTiposCreditos() {\n        //trayendo los tipos de creditos\n        const transaction = new sql.Transaction( this.props.pool );\n        transaction.begin(err => {\n            var rolledBack = false;\n            transaction.on('rollback', aborted => {\n                rolledBack = true;\n            });\n            const request = new sql.Request(transaction);\n            request.query(\"select * from TipoCredito\", (err, result) => {\n                if (err) {\n                    if (!rolledBack) {\n                        console.log(err);\n                        transaction.rollback(err => {\n                        });\n                    }\n                } else {\n                    transaction.commit(err => {\n                        this.setState({\n                            tiposDeCredito: result.recordset\n                        });\n                    });\n                }\n            });\n        }); // fin transaction\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={\"row\"}>\n                    <div className={\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\"}>\n                        <div className={\"page-header\"}>\n                            <h2 className={\"pageheader-title\"}>Configuraci&oacute;n</h2>\n                            <div className={\"page-breadcrumb\"}>\n                                <nav aria-label=\"breadcrumb\">\n                                    <ol className={\"breadcrumb\"}>\n                                        <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.showConfigurationComponent}><a href=\"#\" className={\"breadcrumb-link\"}>Configuraci&oacute;n</a></li>\n                                        <li className={\"breadcrumb-item\"} aria-current=\"page\" onClick={this.props.returnSelCrit}><a href=\"#\" className={\"breadcrumb-link\"}>Seleccionar Criterio de Deterioro</a></li>\n                                        <li className={\"breadcrumb-item active\"} aria-current=\"page\">Crear Criterio de Deterioro</li>\n                                    </ol>\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"row\"}>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"d-inline-block text-center\"  style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Categoria de Clasificaci&oacute;n</h2>\n                                    <select id=\"categoriaClasificacionID\" className={\"form-control form-control-lg\"}>\n                                        {this.state.categoriasClasificacion.map((categoriaClasificacion, i) => {\n                                                return <option value={i} key={categoriaClasificacion.ID}>{categoriaClasificacion.categoria} | {categoriaClasificacion.tipoCredito}</option>\n                                            }\n                                        )}\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Tipo de Cr√©dito</h2>\n                                    <select id=\"tipoCreditoID\" className={\"form-control form-control-lg\"}>\n                                        {this.state.tiposDeCredito.map((tipoDeCredito, i) => {\n                                                return <option value={tipoDeCredito.ID} key={tipoDeCredito.ID}>{tipoDeCredito.nombre}</option>\n                                            }\n                                        )}\n                                    </select>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={\"row\"}>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Estimacion por Deterioro</h2>\n                                    <input id=\"porcentajeEstimacionDeterioro\" type=\"text\" className={\"form-control\"}  style={{width: \"100%\"}}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className=\"card\">\n                            <div className=\"card-body\">\n                                <div className=\"d-inline-block text-center\"  style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Tipo de Garant&iacute;a</h2>\n                                    <input id=\"nombreTipoGarantia\" type=\"text\" className={\"form-control\"}  style={{width: \"100%\"}}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={\"row\"}>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Rango de Mora M&iacute;nimo</h2>\n                                    <input id=\"inicioMora\" type=\"text\" className={\"form-control\"}  style={{width: \"100%\"}}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={\"col-sm-6 col-6\"}>\n                        <div className={\"card\"}>\n                            <div className={\"card-body\"}>\n                                <div className={\"d-inline-block text-center\"} style={{width: \"100%\"}}>\n                                    <h2 className=\"text-muted\">Rango de Mora M&aacute;ximo</h2>\n                                    <input id=\"finMora\" type=\"text\" className={\"form-control\"}  style={{width: \"100%\"}}/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={\"text-center\"}>\n                    <a onClick={this.iniciarCriterioDeterioro} className={\"btn btn-primary col-xs-6 col-6\"} style={{color: \"white\", fontSize: \"1.2em\", fontWeight: \"bold\"}}>Guardar</a>\n                </div>\n                <br/>\n            </div>\n        );\n    }\n}\n"],"file":"CrearCriterioDeterioro.js"}